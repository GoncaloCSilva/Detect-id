{% extends "master.html" %}

{% block title %}
  My Detect.Id - Editar Utente
{% endblock %}

{% block content %}

<style>
  .form-container {
    max-width: 800px;
    margin: auto auto;
    background-color: #ffffff; /* branco puro para mais contraste */
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0px 6px 18px rgba(0, 0, 0, 0.2); /* sombra mais forte */
    border: 1px solid rgba(0, 0, 0, 0.1); /* borda leve para reforçar o contorno */
  }

  h3 {
    text-align: center;
  }

  h1 {
    color: #2c3e50;
    max-width: 900px;
    margin: 20px auto auto auto;
    padding: 20px;
  }
 form label {
    display: block;
    margin-top: 15px;
    font-weight: bold;
  }

  form input, form select {
    padding: 10px;
    margin-top: 5px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 14px;
    background-color: #fdfdfd; /* quase branco */
  }

  .editar {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border-radius: 6px;
    font-size: 14px;
  }

.submit-btn {
  margin: 30px auto 0;       /* top:30px, horizontal:auto, bottom:0 */
  width: 25%;
  padding: 12px;
  background-color: #007041;
  color: white;
  font-weight: bold;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s ease;
  display: block;            /* necessário para centralizar com margin auto */
}

  .submit-btn:hover {
    background-color: #0b462d;
  }
  .back-link {
    display: block;
    text-align: center;
    margin-top: 20px;
    color: #007BFF;
    text-decoration: none;
    font-weight: bold;
  }

  .measurement-form {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  align-items: flex-end;
  justify-content: center;
  margin-top: 20px;
}

.input-group {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.input-group label {
  font-weight: bold;
  margin-bottom: 5px;
  font-size: 14px;
  text-align: center;
}

.input-box {
  padding: 8px;
  font-size: 14px;
  border-radius: 6px;
  border: 1px solid #ccc;
  width: 60px;
  text-align: center;
}

.btn-edit {
  background-color: #007041;
  color: white;
  padding: 10px 14px;
  font-weight: bold;
  border: none;
  border-radius: 6px;
  font-size: 14px;
  cursor: pointer;
  transition: 0.3s ease;
}

.btn-edit:hover {
  background-color: #0b462d;
}
</style>


<h1><u>{{ utente.first_name }} {{ utente.last_name }}</u></h1>

<div class="form-container">
  <form method="POST" action="{% url 'registEvent' utente.person_id %}">
    {% csrf_token %}
    <h3>Registar Evento</h3>

    <label><input type="checkbox" name="eventos" value="1"> Descompensação</label><br>
    <label><input type="checkbox" name="eventos" value="2"> Ativação Médica</label><br>
    <label><input type="checkbox" name="eventos" value="3"> Aumento da Vigilância</label><br>
    <label><input type="checkbox" name="eventos" value="4"> Via Aérea Ameaçada</label><br>
    <label><input type="checkbox" name="eventos" value="5"> Suporte Ventilatório</label><br>
    <label><input type="checkbox" name="eventos" value="6"> Suporte Circulatório</label><br>
    <label><input type="checkbox" name="eventos" value="7"> Mortalidade</label><br>



<br>

    <h3>Registar Medição</h3>
    <div class = "measurement-form" style="display: flex;">
  {% csrf_token %}
  <div class="input-group">
    <label for="spo2">SpO2</label>
    <input type="number" step="0.1" name="spo2" id="spo2" required class="input-box" />
  </div>

  <div class="input-group">
    <label for="necessidade_o2">O2</label>
    <select name="necessidade_o2" id="necessidade_o2" required class="input-box">
      <option value="1">Sim</option>
      <option value="0">Não</option>
    </select>
  </div>

  <div class="input-group">
    <label for="fc">FC</label>
    <input type="number" step="0.1" name="fc" id="fc" required class="input-box" />
  </div>

  <div class="input-group">
    <label for="ta_sistolica">TAS</label>
    <input type="number" step="0.1" name="ta_sistolica" id="ta_sistolica" required class="input-box" />
  </div>

  <div class="input-group">
    <label for="ta_diastolica">TAD</label>
    <input type="number" step="0.1" name="ta_diastolica" id="ta_diastolica" required class="input-box" />
  </div>

  <div class="input-group">
    <label for="temperatura">Temp</label>
    <input type="number" step="0.1" name="temperatura" id="temperatura" required class="input-box" />
  </div>

  <div class="input-group">
    <label for="nivel_consciencia">GCS</label>
    <input type="number" min="1" max="15" name="nivel_consciencia" id="nivel_consciencia" required class="input-box" />
  </div>

  <div class="input-group">
    <label for="dor">Dor</label>
    <select name="dor" id="dor" required class="input-box">
      <option value="1">Sim</option>
      <option value="0">Não</option>
    </select>
  </div>

<div class="button-row" style=" display: flex;justify-content: center;align-items: center;gap: 20px;margin-top: 30px;">
  <button type="submit" class="btn btn-edit">Inserir Medição</button>
</div>
  </div>
</form>
  <a href="{% url 'patient' utente.person_id %}" class="back-link" >← Voltar</a>
</div>



{% endblock %}
